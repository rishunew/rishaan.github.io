<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Retriever Care</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');
        
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #fef3c7; /* Amber-50 */
            touch-action: manipulation;
        }

        .stat-bar-container {
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
            height: 1.25rem;
            border: 2px solid #d1d5db;
        }

        .stat-bar-fill {
            height: 100%;
            transition: width 0.5s ease-in-out, background-color 0.3s;
        }

        /* Animations */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        @keyframes pop-in {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        .animate-bounce-custom { animation: bounce 0.5s ease-in-out; }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        .animate-pop-in { animation: pop-in 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }

        .btn-action {
            transition: transform 0.1s;
        }
        .btn-action:active {
            transform: scale(0.95);
        }

        /* Confetti Canvas */
        #confetti {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            width: 100%;
            height: 100%;
            z-index: 50;
        }
    </style>
</head>
<body class="h-screen flex flex-col items-center justify-center p-4 text-gray-800 select-none overflow-hidden">

    <canvas id="confetti"></canvas>

    <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border-4 border-amber-200 relative">
        
        <!-- Header -->
        <div class="text-center mb-4">
            <h1 class="text-3xl font-bold text-amber-600">Goldie the Retriever</h1>
            <p id="status-text" class="text-gray-500 text-sm mt-1 h-5">Keep Goldie happy to see a surprise!</p>
        </div>

        <!-- Game Scene -->
        <div class="relative bg-blue-100 rounded-2xl h-64 flex items-end justify-center mb-6 overflow-hidden border-b-4 border-blue-200">
            
            <!-- Background Elements -->
            <div class="absolute top-4 right-4 text-yellow-400 opacity-80">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2.25l2.6 6.6 6.9.5-5.3 4.6 1.7 6.8L12 17.25 6.1 20.75l1.7-6.8-5.3-4.6 6.9-.5z"/>
                </svg>
            </div>
            <div class="absolute bottom-0 w-full h-8 bg-green-200"></div>

            <!-- Main Dog (Goldie) -->
            <div id="dog-container" class="relative z-10 w-40 h-40 mb-2 transition-transform duration-300">
                <svg viewBox="0 0 200 200" class="w-full h-full drop-shadow-lg">
                    <!-- Tail -->
                    <path id="tail" d="M160 140 Q 190 120 180 100" stroke="#D97706" stroke-width="12" fill="none" stroke-linecap="round">
                        <animate attributeName="d" values="M160 140 Q 190 120 180 100; M160 140 Q 190 160 180 180; M160 140 Q 190 120 180 100" dur="0.5s" repeatCount="indefinite" />
                    </path>
                    
                    <!-- Body -->
                    <ellipse cx="100" cy="140" rx="60" ry="45" fill="#F59E0B" />
                    <ellipse cx="100" cy="140" rx="40" ry="35" fill="#FCD34D" opacity="0.4" />

                    <!-- Legs -->
                    <path d="M70 170 L70 190" stroke="#D97706" stroke-width="14" stroke-linecap="round"/>
                    <path d="M130 170 L130 190" stroke="#D97706" stroke-width="14" stroke-linecap="round"/>
                    
                    <!-- Head -->
                    <circle cx="100" cy="80" r="45" fill="#F59E0B" />
                    
                    <!-- Ears -->
                    <path d="M60 60 Q 30 80 50 110" fill="#D97706" />
                    <path d="M140 60 Q 170 80 150 110" fill="#D97706" />

                    <!-- Snout -->
                    <ellipse cx="100" cy="95" rx="18" ry="14" fill="#FEF3C7" />
                    <path d="M92 90 Q 100 105 108 90" fill="none" stroke="#78350F" stroke-width="2" id="mouth" />
                    <circle cx="100" cy="88" r="5" fill="#1F2937" />

                    <!-- Eyes -->
                    <circle cx="85" cy="75" r="5" fill="#1F2937" />
                    <circle cx="115" cy="75" r="5" fill="#1F2937" />
                    <circle cx="87" cy="73" r="1.5" fill="white" />
                    <circle cx="117" cy="73" r="1.5" fill="white" />

                    <!-- Dirt -->
                    <g id="dirt-spots" opacity="0">
                        <circle cx="70" cy="130" r="8" fill="#78350F" opacity="0.6" />
                        <circle cx="120" cy="150" r="6" fill="#78350F" opacity="0.6" />
                        <circle cx="100" cy="60" r="5" fill="#78350F" opacity="0.6" />
                    </g>
                </svg>
            </div>

            <!-- Puppy (Hidden Initially) -->
            <div id="puppy-container" class="hidden absolute bottom-2 right-4 z-20 w-20 h-20 animate-pop-in">
                <svg viewBox="0 0 200 200" class="w-full h-full drop-shadow-md">
                    <ellipse cx="100" cy="140" rx="50" ry="35" fill="#FCD34D" />
                    <circle cx="100" cy="90" r="35" fill="#FCD34D" />
                    <path d="M70 70 Q 50 90 65 110" fill="#F59E0B" />
                    <path d="M130 70 Q 150 90 135 110" fill="#F59E0B" />
                    <circle cx="90" cy="85" r="4" fill="#1F2937" />
                    <circle cx="110" cy="85" r="4" fill="#1F2937" />
                    <ellipse cx="100" cy="100" rx="12" ry="10" fill="#FEF3C7" />
                    <circle cx="100" cy="96" r="3" fill="#1F2937" />
                </svg>
                <div class="absolute -top-6 w-full text-center text-xs font-bold text-amber-600 bg-white/80 rounded px-1">Jr!</div>
            </div>

            <!-- Reaction Bubbles -->
            <div id="reaction" class="absolute top-10 left-1/2 transform -translate-x-1/2 text-4xl opacity-0 transition-opacity duration-300">‚ù§Ô∏è</div>
        </div>

        <!-- Progress Bar (Motherhood) -->
        <div class="mb-6 relative">
             <div class="flex justify-between text-xs font-semibold text-gray-500 mb-1">
                <span>Growth Progress</span>
                <span id="progress-percent">0%</span>
            </div>
            <div class="h-2 w-full bg-gray-200 rounded-full overflow-hidden">
                <div id="motherhood-bar" class="h-full bg-gradient-to-r from-pink-400 to-purple-500 w-0 transition-all duration-1000"></div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="grid grid-cols-2 gap-4 mb-6">
            <div>
                <div class="flex justify-between text-xs font-bold text-gray-600 mb-1">
                    <span>Hunger</span>
                    <span id="hunger-val">100%</span>
                </div>
                <div class="stat-bar-container">
                    <div id="hunger-bar" class="stat-bar-fill bg-green-500" style="width: 100%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between text-xs font-bold text-gray-600 mb-1">
                    <span>Thirst</span>
                    <span id="thirst-val">100%</span>
                </div>
                <div class="stat-bar-container">
                    <div id="thirst-bar" class="stat-bar-fill bg-blue-500" style="width: 100%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between text-xs font-bold text-gray-600 mb-1">
                    <span>Fun</span>
                    <span id="fun-val">100%</span>
                </div>
                <div class="stat-bar-container">
                    <div id="fun-bar" class="stat-bar-fill bg-yellow-500" style="width: 100%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between text-xs font-bold text-gray-600 mb-1">
                    <span>Cleanliness</span>
                    <span id="clean-val">100%</span>
                </div>
                <div class="stat-bar-container">
                    <div id="clean-bar" class="stat-bar-fill bg-teal-500" style="width: 100%"></div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="grid grid-cols-4 gap-2">
            <button onclick="feedDog()" class="btn-action flex flex-col items-center justify-center p-2 bg-orange-100 hover:bg-orange-200 text-orange-700 rounded-xl border-2 border-orange-300">
                <span class="text-2xl mb-1">üçñ</span>
                <span class="text-xs font-bold">Feed</span>
            </button>
            <button onclick="waterDog()" class="btn-action flex flex-col items-center justify-center p-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl border-2 border-blue-300">
                <span class="text-2xl mb-1">üíß</span>
                <span class="text-xs font-bold">Water</span>
            </button>
            <button onclick="playDog()" class="btn-action flex flex-col items-center justify-center p-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-700 rounded-xl border-2 border-yellow-300">
                <span class="text-2xl mb-1">üéæ</span>
                <span class="text-xs font-bold">Play</span>
            </button>
            <button onclick="cleanDog()" class="btn-action flex flex-col items-center justify-center p-2 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded-xl border-2 border-teal-300">
                <span class="text-2xl mb-1">üõÅ</span>
                <span class="text-xs font-bold">Bath</span>
            </button>
        </div>

    </div>

    <!-- Celebration Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-3xl text-center max-w-sm mx-4 shadow-2xl animate-pop-in">
            <div class="text-6xl mb-4">üê∂üéâ</div>
            <h2 class="text-2xl font-bold text-amber-600 mb-2">Congratulations!</h2>
            <p class="text-gray-600 mb-6">You took such good care of Goldie that she is now a proud parent to <strong>Golden Retriever Jr.</strong>!</p>
            <button onclick="closeModal()" class="bg-amber-500 text-white px-6 py-2 rounded-full font-bold hover:bg-amber-600 transition">Keep Playing</button>
        </div>
    </div>

    <script>
        // Game State
        let stats = {
            hunger: 80,
            thirst: 80,
            fun: 80,
            clean: 80
        };

        let progress = 0;
        let isJrBorn = false;
        let gameActive = true;
        const TARGET_PROGRESS = 100;

        const dogContainer = document.getElementById('dog-container');
        const dirtSpots = document.getElementById('dirt-spots');
        const puppyContainer = document.getElementById('puppy-container');
        const statusText = document.getElementById('status-text');
        const motherhoodBar = document.getElementById('motherhood-bar');
        const progressPercent = document.getElementById('progress-percent');
        const reactionEl = document.getElementById('reaction');
        const modal = document.getElementById('modal');

        // Main Game Loop (runs every second)
        setInterval(() => {
            if (!gameActive) return;
            
            decayStats();
            updateUI();
            checkProgress();
            updateDogAppearance();
        }, 1000);

        function decayStats() {
            // Stats decrease much slower now so Goldie is easier to care for
            stats.hunger = Math.max(0, stats.hunger - (0.2 + Math.random() * 0.5));
            stats.thirst = Math.max(0, stats.thirst - (0.2 + Math.random() * 0.8));
            stats.fun = Math.max(0, stats.fun - (0.3 + Math.random() * 0.5));
            stats.clean = Math.max(0, stats.clean - (0.1 + Math.random() * 0.3));
        }

        function checkProgress() {
            const average = (stats.hunger + stats.thirst + stats.fun + stats.clean) / 4;

            if (average > 70 && !isJrBorn) {
                progress += 0.8; 
                statusText.innerText = "Goldie is thriving!";
            } else if (average < 40) {
                progress = Math.max(0, progress - 0.5); 
                statusText.innerText = "Goldie needs attention...";
            } else {
                statusText.innerText = "Goldie is doing okay.";
            }

            if (progress >= TARGET_PROGRESS && !isJrBorn) {
                birthEvent();
            }

            progress = Math.min(TARGET_PROGRESS, progress);
        }

        function birthEvent() {
            isJrBorn = true;
            gameActive = false; 
            puppyContainer.classList.remove('hidden');
            confettiEffect();
            modal.classList.remove('hidden');
            statusText.innerText = "Look! It's Golden Retriever Jr.!";
        }

        function closeModal() {
            modal.classList.add('hidden');
            gameActive = true;
        }

        function updateUI() {
            updateBar('hunger', stats.hunger, 'bg-green-500', 'bg-red-500');
            updateBar('thirst', stats.thirst, 'bg-blue-500', 'bg-red-500');
            updateBar('fun', stats.fun, 'bg-yellow-500', 'bg-red-500');
            updateBar('clean', stats.clean, 'bg-teal-500', 'bg-red-500');

            motherhoodBar.style.width = `${progress}%`;
            progressPercent.innerText = `${Math.floor(progress)}%`;
        }

        function updateBar(id, value, highColor, lowColor) {
            const bar = document.getElementById(`${id}-bar`);
            const valText = document.getElementById(`${id}-val`);
            bar.style.width = `${value}%`;
            valText.innerText = `${Math.floor(value)}%`;
            if (value < 30) {
                bar.classList.remove(highColor);
                bar.classList.add(lowColor);
            } else {
                bar.classList.add(highColor);
                bar.classList.remove(lowColor);
            }
        }

        function updateDogAppearance() {
            if (stats.clean < 50) {
                dirtSpots.setAttribute('opacity', (50 - stats.clean) / 50);
            } else {
                dirtSpots.setAttribute('opacity', 0);
            }

            const average = (stats.hunger + stats.thirst + stats.fun + stats.clean) / 4;
            const mouth = document.getElementById('mouth');
            if (average < 40) {
                mouth.setAttribute('d', 'M92 100 Q 100 90 108 100'); 
            } else {
                mouth.setAttribute('d', 'M92 90 Q 100 105 108 90');
            }
        }

        function showReaction(emoji) {
            reactionEl.innerText = emoji;
            reactionEl.style.opacity = '1';
            reactionEl.classList.add('animate-bounce-custom');
            setTimeout(() => {
                reactionEl.style.opacity = '0';
                reactionEl.classList.remove('animate-bounce-custom');
            }, 1000);
        }

        function animateDog(animationClass) {
            dogContainer.classList.add(animationClass);
            setTimeout(() => dogContainer.classList.remove(animationClass), 500);
        }

        window.feedDog = function() {
            stats.hunger = Math.min(100, stats.hunger + 20);
            stats.clean = Math.max(0, stats.clean - 5);
            stats.thirst = Math.max(0, stats.thirst - 5);
            animateDog('animate-bounce-custom');
            showReaction('üòã');
            updateUI();
        }

        window.waterDog = function() {
            stats.thirst = Math.min(100, stats.thirst + 25);
            animateDog('animate-bounce-custom');
            showReaction('ü•§');
            updateUI();
        }

        window.playDog = function() {
            stats.fun = Math.min(100, stats.fun + 20);
            stats.hunger = Math.max(0, stats.hunger - 10);
            stats.thirst = Math.max(0, stats.thirst - 10);
            stats.clean = Math.max(0, stats.clean - 10);
            animateDog('animate-shake');
            showReaction('üéæ');
            updateUI();
        }

        window.cleanDog = function() {
            stats.clean = Math.min(100, stats.clean + 30);
            stats.fun = Math.max(0, stats.fun - 5);
            animateDog('animate-bounce-custom');
            showReaction('‚ú®');
            updateUI();
        }

        function confettiEffect() {
            const canvas = document.getElementById('confetti');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const particles = [];
            for(let i=0; i<100; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 5 + 2
                });
            }
            function draw() {
                ctx.clearRect(0,0,canvas.width, canvas.height);
                particles.forEach(p => {
                    ctx.fillStyle = p.color;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                    p.y += p.speed;
                    if(p.y > canvas.height) p.y = -10;
                });
                requestAnimationFrame(draw);
            }
            draw();
            setTimeout(() => { ctx.clearRect(0,0,canvas.width, canvas.height); }, 5000);
        }

        updateUI();
    </script>
</body>
</html>